{% extends 'base.html' %}


{% block header %}
  <h1>{% block posttitle %}{{session.get('username')}}'s history</h1>
{% endblock %}
{% endblock %}

{% block content %}
  {% if g.user %}
  {% if not generations %}
  <t>Nothing here yet! Go and <a href="{{ url_for('album.index')}}"> get a random album</a>!</t>
  {% endif %}
    {% for gen in generations %}
    <p class="gen">
        <small>{{gen['generated_on']}}: </small> <u><a href="{{ url_for('album.index', album_id=gen['id']) }}">{{gen['album_name']}}</a></u> by <span style="color: #00ffff;">{{gen['band_name']}} </span>was {{'rated ' + 'ðŸ¤Ÿ'* gen['rating'] if gen['rating'] else 'not yet rated!'}}
    </p>
    {% endfor %}
    <h2>Global history</h2>
    <hr>
    {% if not allgen %}
      <t>Nothing here yet!</t>
    {% endif %}
    {% for gen in allgen %}
    <p class="all">
        {{gen['username']}} got <a href="{{ url_for('album.index', album_id=gen['id']) }}">{{gen['album_name']}}</a> by <span style="color: #00ffff;">{{gen['band_name']}}</span> {{'and rated it ' + 'ðŸ¤Ÿ'* gen['rating'] if gen['rating'] else 'but didn\'t rate it yet!'}}
        
    </p>
    {% endfor %}

  {% endif %}
{% endblock %}

